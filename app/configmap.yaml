apiVersion: v1
kind: ConfigMap
metadata:
  name: flask-app-config
  namespace: default
  labels:
    app: flask-app
data:
  # Application settings
  APP_HOST: "0.0.0.0"
  APP_PORT: "5000"
  METRICS_PORT: "8000"
  DEBUG: "false"

  # Performance tuning
  # 100ms baseline latency - predictable for RL training
  DEFAULT_SLEEP_TIME: "0.1"

  # Memory configuration (optimized for 512Mi container limit)
  # Formula: (512 - 220 overhead) / 2 concurrent = 146 MB per request
  # With 2-3 concurrent requests, container reaches 70-85% memory usage
  MAX_MEMORY_MB: "140"

  # CPU configuration (optimized for 500m CPU limit)
  # 500k iterations â‰ˆ 200-500ms CPU time under throttling
  # Reduced from 2.5M to prevent 3-4 second response times
  # With 3-5 concurrent requests, container reaches 70-95% CPU usage
  MAX_CPU_ITERATIONS: "500000"

  # Add more configuration as needed
  # LOG_LEVEL: "INFO"
  # MAX_WORKERS: "4"
